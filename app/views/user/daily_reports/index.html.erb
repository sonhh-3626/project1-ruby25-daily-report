<h1 class="text-center"><%= t("daily_report.index.title") %></h1>

<% if current_user.department_id.blank? %>
  <div class="alert alert-danger text-center">
    <%= t "departments.edit.forbidden_department" %>
  </div>
<% else %>
  <div class="row mb-4">
    <div class="col-md-2 text-md-end mt-2 mt-md-0">
      <%= link_to new_user_daily_report_path, class: "btn btn-success" do %>
        <i class="fas fa-plus"></i> <%= t("daily_report.index.add_button") %>
      <% end %>
    </div>
  </div>

  <% if @daily_reports.present? %>
    <%= render "filter_form" %>

    <table class="table table-striped table-bordered table-hover">
      <thead class="table-dark">
        <tr>
          <th><%= t "daily_report.index.created_at" %></th>
          <th><%= t "daily_report.index.report_date" %></th>
          <th><%= t "daily_report.index.status" %></th>
          <th><%= t "daily_report.index.receiver" %></th>
          <th><%= t "daily_report.index.planned_tasks" %></th>
          <th><%= t "daily_report.index.reviewed_at" %></th>
          <th><%= t "daily_report.index.action" %></th>
        </tr>
      </thead>
      <tbody>
        <%= render @daily_reports %>
      </tbody>
    </table>
  <% else %>
    <div class="text-center text-muted mt-4">
      <%= t "daily_report.index.no_data_message" %>
    </div>
  <% end %>

  <div class="d-flex justify-content-center mt-4">
    <%== pagy_bootstrap_nav(@pagy) if @pagy.pages > 1 %>
  </div>
<% end %>
